import{j as e,t as P,u as p,A as K,E as Q,r as X}from"./vendor-2a64cc99.js";import{D as u,H as h,C as q,R as Y,A as Z,u as T,a as B,b as F,f as ee}from"./formatting-f76254cc.js";import{I as se}from"./index-a910d8d0.js";import{u as C}from"./useDrivers-167215e2.js";import{u as I,a as E,b as O,c as A,d as G,e as L}from"./useSuspensions-1ff26c69.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[s]="b529cd5e-fca1-473a-a974-f877495d748f",a._sentryDebugIdIdentifier="sentry-dbid-b529cd5e-fca1-473a-a974-f877495d748f")}catch{}})();const M=a=>{const{children:s,className:r}=a;return e.jsx("h3",{className:P("text-3xl font-bold dark:text-white mb-3",r),children:s})},k=a=>{const{children:s,className:r}=a;return e.jsx("h6",{className:P("text-lg font-bold dark:text-white mb-3",r),children:s})},U=a=>{const{stat:s}=a,{t:r}=p(["drivers"]);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row gap-2 divide-x justify-between divide-gray-200 dark:divide-gray-700",children:[e.jsx("div",{className:"flex w-1/3 justify-center",children:e.jsx(u,{className:"text-center",term:r("drivers:overtaking"),children:s.overtaking})}),e.jsx("div",{className:"flex w-1/3 justify-center pl-2",children:e.jsx(u,{className:"text-center",term:r("drivers:defending"),children:s.defending})}),e.jsx("div",{className:"flex w-1/3 justify-center pl-2",children:e.jsx(u,{className:"text-center",term:r("drivers:qualifying"),children:s.qualifying})})]}),e.jsx(h,{}),e.jsxs("div",{className:"flex flex-row gap-2 divide-x justify-between divide-gray-200 dark:divide-gray-700",children:[e.jsx("div",{className:"flex w-1/2 justify-center",children:e.jsx(u,{className:"text-center",term:r("drivers:raceStart"),children:s.raceStart})}),e.jsx("div",{className:"flex w-1/2 justify-center pl-2",children:e.jsx(u,{className:"text-center",term:r("drivers:tireManagement"),children:s.tireManagement})})]})]})},te=a=>{const{stat:s}=a,{t:r}=p(["parts"]);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row gap-2 divide-x justify-between divide-gray-200 dark:divide-gray-700",children:[e.jsx("div",{className:"flex w-1/3 justify-center",children:e.jsx(u,{className:"text-center",term:r("parts:speed"),children:s.speed})}),e.jsx("div",{className:"flex w-1/3 justify-center pl-2",children:e.jsx(u,{className:"text-center",term:r("parts:cornering"),children:s.cornering})}),e.jsx("div",{className:"flex w-1/3 justify-center pl-2",children:e.jsx(u,{className:"text-center",term:r("parts:powerUnit"),children:s.powerUnit})})]}),e.jsx(h,{}),e.jsxs("div",{className:"flex flex-row gap-2 divide-x justify-between divide-gray-200 dark:divide-gray-700",children:[e.jsx("div",{className:"flex w-1/2 justify-center",children:e.jsx(u,{className:"text-center",term:r("parts:reliability"),children:s.reliability})}),e.jsx("div",{className:"flex w-1/2 justify-center pl-2",children:e.jsx(u,{className:"text-center",term:r("parts:pitStopTime"),children:s.pitStopTime.toFixed(2)})})]})]})},re=a=>{const{children:s}=a;return e.jsx("div",{className:"grid justify-items-center max-sm:grid-cols-1 max-lg:grid-cols-2 max-2xl:grid-cols-3 grid-cols-4 gap-5",children:s})},D=a=>{const{asset:s,children:r}=a,{t:c}=p(),l=K(),n=!1,t=s.rarity==="stock",i=()=>{t||l(s.id.toString())};return e.jsx(q,{className:"",children:e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex flex-row justify-between items-center mb-2 gap-2 flex-wrap",children:[e.jsxs("button",{className:P("flex flex-row items-center gap-2 text-gray-900 dark:text-white",t?"cursor-not-allowed":"hover:underline hover:text-blue-600 hover:dark:text-blue-500"),onClick:i,children:[e.jsxs("h5",{className:"text-2xl font-bold tracking-tight",children:[s.name," "]}),!t&&e.jsx(se,{Icon:Q,size:20})]}),n]}),e.jsxs("div",{className:"flex flex-row justify-between items-center mb-3",children:[e.jsx("p",{className:"font-normal text-gray-700 dark:text-gray-400",children:c("series",{series:s.series})}),e.jsx(Y,{rarity:s.rarity})]}),r]})},s.id)},H=a=>{const{bestParts:{bestBrake:s,bestEngine:r,bestFrontWing:c,bestGearbox:l,bestRearWing:n,bestSuspension:t}}=a,{t:i}=p(["parts"]),o=X.useMemo(()=>[{data:s,label:i("parts:brake",{count:1})},{data:l,label:i("parts:gearbox",{count:1})},{data:n,label:i("parts:rearWing",{count:1})},{data:c,label:i("parts:frontWing",{count:1})},{data:t,label:i("parts:suspension",{count:1})},{data:r,label:i("parts:engine",{count:1})}],[s,r,c,l,n,t,i]);return e.jsx(re,{children:o.map((d,g)=>e.jsxs("div",{className:"w-full",children:[e.jsx(k,{className:"mb-1",children:d.label}),e.jsxs(D,{asset:d.data.asset,children:[e.jsx(h,{}),e.jsx(te,{stat:d.data.stat})]})]},g))})},_=a=>{const{bestDrivers:s}=a,{t:r}=p(["calculators"]);return s.hasTwoDrivers?e.jsxs("div",{className:"grid justify-items-center max-sm:grid-cols-1 grid-cols-2 gap-5 mb-5",children:[e.jsxs("div",{className:"max-w-sm w-full",children:[e.jsx(k,{className:"mb-1",children:r("calculators:driver1")}),e.jsxs(D,{asset:s.driver1.asset,children:[e.jsx(h,{}),e.jsx(U,{stat:s.driver1.stat})]})]}),e.jsxs("div",{className:"max-w-sm w-full",children:[e.jsx(k,{className:"mb-1",children:r("calculators:driver2")}),e.jsxs(D,{asset:s.driver2.asset,children:[e.jsx(h,{}),e.jsx(U,{stat:s.driver2.stat})]})]})]}):e.jsx(Z,{severity:"warning",children:r("calculators:error.twoDriverRequired")})},m=a=>{const{children:s,title:r}=a;return e.jsx(q,{className:"max-w-[250px] w-full",children:e.jsx("div",{className:"p-3",children:e.jsx(u,{className:"text-center",term:r,children:s})})})},z=a=>{const{score:s}=a,{t:r}=p(["calculators"]);return e.jsxs(m,{title:r("calculators:teamScore"),children:[s," Â± 1"]})},V=a=>{const{bestParts:{sum:{cornering:s,pitStopTime:r,powerUnit:c,reliability:l,speed:n}}}=a,{t}=p(["parts"]);return e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"max-md:hidden flex flex-row gap-2 justify-between w-full",children:[e.jsx(m,{title:t("parts:speed"),children:n}),e.jsx(m,{title:t("parts:powerUnit"),children:c}),e.jsx(m,{title:t("parts:cornering"),children:s}),e.jsx(m,{title:t("parts:reliability"),children:l}),e.jsx(m,{title:t("parts:pitStopTime"),children:r.toFixed(2)})]}),e.jsxs("div",{className:"md:hidden flex flex-col gap-2 items-center w-full",children:[e.jsxs("div",{className:"flex flex-row justify-evenly gap-2 w-full",children:[e.jsx(m,{title:t("parts:speed"),children:n}),e.jsx(m,{title:t("parts:powerUnit"),children:c}),e.jsx(m,{title:t("parts:cornering"),children:s})]}),e.jsxs("div",{className:"flex flex-row justify-evenly gap-2 w-full",children:[e.jsx(m,{title:t("parts:reliability"),children:l}),e.jsx(m,{title:t("parts:pitStopTime"),children:r.toFixed(2)})]})]})]})},ae=()=>{const a=C(),s=T(t=>t.drivers),r=a.filter(t=>Object.keys(s).map(i=>parseInt(i,10)).includes(t.id));if(r.length<2)return{driver1:void 0,driver2:void 0,hasTwoDrivers:!1};const c=r.map(t=>{const i=t.stats.find(o=>o.level===s[t.id].level);return{asset:t,score:i.score.weighted,stat:i}}),[l,n]=c.sort((t,i)=>t.score>i.score?-1:1);return{driver1:l,driver2:n,hasTwoDrivers:!0}},b=(a,s)=>{const r=T(t=>t[s]),l=a.filter(t=>Object.keys(r).map(i=>parseInt(i,10)).includes(t.id)).map(t=>{const i=t.stats.find(o=>o.level===r[t.id].level);return{asset:t,score:i.score.weighted,stat:i}}),[n]=l.sort((t,i)=>t.score>i.score?-1:1);return n},$=a=>{const{bestBrake:s,bestEngine:r,bestFrontWing:c,bestGearbox:l,bestRearWing:n,bestSuspension:t}=a;return{cornering:s.stat.cornering+r.stat.cornering+c.stat.cornering+l.stat.cornering+n.stat.cornering+t.stat.cornering,pitStopTime:s.stat.pitStopTime+r.stat.pitStopTime+c.stat.pitStopTime+l.stat.pitStopTime+n.stat.pitStopTime+t.stat.pitStopTime,powerUnit:s.stat.powerUnit+r.stat.powerUnit+c.stat.powerUnit+l.stat.powerUnit+n.stat.powerUnit+t.stat.powerUnit,reliability:s.stat.reliability+r.stat.reliability+c.stat.reliability+l.stat.reliability+n.stat.reliability+t.stat.reliability,speed:s.stat.speed+r.stat.speed+c.stat.speed+l.stat.speed+n.stat.speed+t.stat.speed}},ie=()=>{const a=I(),s=b(a,"brakes"),r=E(),c=b(r,"engines"),l=O(),n=b(l,"frontWings"),t=A(),i=b(t,"gearboxes"),o=G(),d=b(o,"rearWings"),g=L(),x=b(g,"suspensions"),w=$({bestBrake:s,bestEngine:c,bestFrontWing:n,bestGearbox:i,bestRearWing:d,bestSuspension:x});return{bestBrake:s,bestEngine:c,bestFrontWing:n,bestGearbox:i,bestRearWing:d,bestSuspension:x,sum:w}},J=(a,s)=>{const{driver1:r,driver2:c,hasTwoDrivers:l}=a,{bestBrake:n,bestEngine:t,bestFrontWing:i,bestGearbox:o,bestRearWing:d,bestSuspension:g}=s,x=f=>f.cornering+f.powerUnit+f.reliability+f.reliability,w=n.stat.pitStopTime+t.stat.pitStopTime+i.stat.pitStopTime+o.stat.pitStopTime+d.stat.pitStopTime+g.stat.pitStopTime;let v=x(n.stat)+x(t.stat)+x(i.stat)+x(o.stat)+x(d.stat)+x(g.stat);const y=-45.9,N=281,S=y*w+N;return v+=S,l&&(v+=r.stat.statsSum,v+=c.stat.statsSum),v.toFixed(0)},ne=()=>{const{t:a}=p(["calculators"]),s=ae(),r=ie(),c=J(s,r);return e.jsxs(B,{maxWidth:"2xl",children:[e.jsx(M,{children:a("calculators:bestTeam")}),e.jsx("div",{className:"flex flex-row justify-center w-full mb-5",children:e.jsx(z,{score:c})}),e.jsx(_,{bestDrivers:s}),e.jsx(V,{bestParts:r}),e.jsx(H,{bestParts:r})]})},ce=()=>{const a=C(),s=T(t=>t.drivers),r=a.filter(t=>Object.keys(s).map(i=>parseInt(i,10)).includes(t.id));if(r.length<2)return{driver1:void 0,driver2:void 0,hasTwoDrivers:!1};const c=r.map(t=>{const i=s[t.id],o=F(t.stats,i.level,i.cards);return{driver:t,driverUpgradeRequirements:o,maxStat:t.stats.find(d=>o.maxLevelAvailable===d.level)}}),[l,n]=c.sort((t,i)=>t.maxStat.score.weighted>i.maxStat.score.weighted?-1:1);return{driver1:{asset:l.driver,score:l.maxStat.score.weighted,stat:l.maxStat},driver2:{asset:n.driver,score:n.maxStat.score.weighted,stat:n.maxStat},hasTwoDrivers:!0,upgradeRequirements:{coinsNeeded:l.driverUpgradeRequirements.coinsNeeded+n.driverUpgradeRequirements.coinsNeeded}}},j=(a,s)=>{const r=T(t=>t[s]),l=a.filter(t=>Object.keys(r).map(i=>parseInt(i,10)).includes(t.id)).map(t=>{const i=r[t.id],o=F(t.stats,i.level,i.cards);return{maxStat:t.stats.find(d=>o.maxLevelAvailable===d.level),part:t,partUpgradeRequirements:o}}),[n]=l.sort((t,i)=>t.maxStat.score.weighted>i.maxStat.score.weighted?-1:1);return{asset:n.part,score:n.maxStat.score.weighted,stat:n.maxStat,upgradeRequirements:n.partUpgradeRequirements}},le=()=>{var y,N,S,f,R,W;const a=I(),s=j(a,"brakes"),r=E(),c=j(r,"engines"),l=O(),n=j(l,"frontWings"),t=A(),i=j(t,"gearboxes"),o=G(),d=j(o,"rearWings"),g=L(),x=j(g,"suspensions"),w=$({bestBrake:s,bestEngine:c,bestFrontWing:n,bestGearbox:i,bestRearWing:d,bestSuspension:x}),v=(((y=s.upgradeRequirements)==null?void 0:y.coinsNeeded)??0)+(((N=c.upgradeRequirements)==null?void 0:N.coinsNeeded)??0)+(((S=n.upgradeRequirements)==null?void 0:S.coinsNeeded)??0)+(((f=i.upgradeRequirements)==null?void 0:f.coinsNeeded)??0)+(((R=d.upgradeRequirements)==null?void 0:R.coinsNeeded)??0)+(((W=x.upgradeRequirements)==null?void 0:W.coinsNeeded)??0);return{bestBrake:s,bestEngine:c,bestFrontWing:n,bestGearbox:i,bestRearWing:d,bestSuspension:x,sum:w,upgradeRequirements:{coinsNeeded:v}}},oe=()=>{var n,t;const{t:a}=p(["calculators"]),s=ce(),r=le(),c=J(s,r),l=(((n=s.upgradeRequirements)==null?void 0:n.coinsNeeded)??0)+(((t=r.upgradeRequirements)==null?void 0:t.coinsNeeded)??0);return e.jsxs(e.Fragment,{children:[e.jsx(M,{children:a("calculators:bestTeamOnceUpgraded")}),e.jsxs("div",{className:"flex flex-row justify-center w-full mb-5 gap-5",children:[e.jsx(z,{score:c}),e.jsx(m,{title:a("calculators:coinsNeeded"),children:ee(l)})]}),e.jsx(_,{bestDrivers:s}),e.jsx(V,{bestParts:r}),e.jsx(H,{bestParts:r})]})},de=()=>e.jsxs(B,{maxWidth:"2xl",children:[e.jsx(ne,{}),e.jsx(h,{className:"my-10"}),e.jsx(oe,{})]}),fe=de;export{fe as CalculatorPage};
//# sourceMappingURL=index-e125f761.js.map
