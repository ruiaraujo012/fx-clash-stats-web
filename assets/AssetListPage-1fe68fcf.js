import{j as e,t as u,r as N,u as h,A as p,E as w,D as A,F as C,G as I,J as S,K as L}from"./vendor-97efe107.js";import{u as k,b as F,C as R,R as E,H as j,D as y,f as v,a as U,A as D}from"./formatting-c8504815.js";import{I as b}from"./index-32411ff9.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[s]="b6e924f2-0281-4d70-af33-65e6370e9155",a._sentryDebugIdIdentifier="sentry-dbid-b6e924f2-0281-4d70-af33-65e6370e9155")}catch{}})();const _=a=>{const{children:s,className:r}=a;return e.jsx("h4",{className:u("text-2xl font-bold dark:text-white mb-3",r),children:s})},q=(a,s)=>{const r=k(n=>n[s][a.id]),{cards:t=0,level:l=0}=r??{},{cardsNeeded:c,coinsNeeded:i,maxLevelAvailable:o,remainingCards:x}=N.useMemo(()=>F(a.stats,l,t),[a.stats,t,l]),d=o>l&&l!==0;return{cardsNeeded:c,coinsNeeded:i,isUpgradable:d,maxLevelAvailable:o,remainingCards:x}},z={common:"bg-blue-100 dark:bg-blue-900",epic:"bg-fuchsia-100 dark:bg-fuchsia-900",rare:"bg-orange-100 dark:bg-orange-900",stock:"bg-gray-100 dark:bg-gray-900"},H=a=>{const{asset:s,assetKey:r}=a,{t}=h(),l=p(),{coinsNeeded:c,isUpgradable:i,maxLevelAvailable:o,cardsNeeded:x}=q(s,r),d=!1,n=s.rarity==="stock",m=()=>{n||l(s.id.toString())};return e.jsxs(R,{className:"",children:[e.jsx("div",{className:u("h-52 lg:h-60 w-full",z[s.rarity]),children:d}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex flex-col justify-between items-start mb-2 gap-2",children:[e.jsxs("button",{className:u("flex flex-row items-center gap-2 text-gray-900 dark:text-white",n?"cursor-not-allowed":"hover:underline hover:text-blue-600 hover:dark:text-blue-500"),onClick:m,children:[e.jsxs("h5",{className:"text-2xl font-bold tracking-tight",children:[s.name," "]}),!n&&e.jsx(b,{Icon:w,size:20})]}),i?e.jsxs("span",{className:"bg-green-100 text-green-800 text-xs font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300 flex flex-row items-center gap-1",children:[e.jsx(b,{Icon:A,size:15}),t("upgradable")]}):e.jsx("span",{className:"py-2.5"})]}),e.jsxs("div",{className:"flex flex-row justify-between items-center mb-3",children:[e.jsx("p",{className:"font-normal text-gray-700 dark:text-gray-400",children:t("series",{series:s.series})}),e.jsx(E,{rarity:s.rarity})]}),e.jsx(j,{}),e.jsx(B,{cardsNeeded:x,coinsNeeded:c,maxLevelAvailable:o}),e.jsx(j,{}),e.jsx(M,{asset:s,assetKey:r})]})]},s.id)},K=a=>{const{children:s,className:r}=a;return e.jsx("div",{className:u("flex flex-row gap-3 items-center justify-between mb-3 flex-wrap",r),children:s})},M=a=>{const{asset:s,assetKey:r}=a,{t}=h(),{decreaseCollectedAssetCards:l,increaseCollectedAssetCards:c,updateCollectedAssetLevel:i,updateCollectedAssetCards:o,...x}=k(),d=x[r][s.id],n=s.rarity==="stock";let m=11;switch(s.rarity){case"common":m=11;break;case"epic":m=8;break;case"rare":m=9;break;case"stock":m=0;break;default:m=11;break}return e.jsxs("div",{className:"flex flex-row justify-between gap-5",children:[e.jsxs("div",{className:"w-1/3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",htmlFor:"level",children:t("level")}),e.jsx("select",{className:u("w-full p-1.5 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",n?"cursor-not-allowed":""),disabled:n,id:"level",onChange:g=>i(r,s.id,parseInt(g.target.value,10)),value:(d==null?void 0:d.level)??0,children:n?e.jsx("option",{value:1,children:"1"}):e.jsx(e.Fragment,{children:[...Array(m+1)].map((g,f)=>e.jsx("option",{value:f,children:f},f))})})]}),e.jsxs("div",{className:"w-2/3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-900 dark:text-white",htmlFor:"cards",children:t("cards")}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:u("p-2 text-xs font-medium text-center text-white bg-blue-700 hover:bg-blue-800 focus:outline-none rounded-lg inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700",n?"cursor-not-allowed bg-blue-400 dark:bg-blue-500 hover:bg-blue-400 hover:dark:bg-blue-500":""),disabled:n,onClick:()=>l(r,s.id),type:"button",children:[e.jsx(b,{Icon:C,size:15,variant:"Linear"}),e.jsx("span",{className:"sr-only",children:"Add"})]}),e.jsx("input",{className:u("p-1 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",n?"cursor-not-allowed":""),disabled:n,id:"cards",onChange:g=>o(r,s.id,Number.isNaN(g.target.valueAsNumber)?0:g.target.valueAsNumber),type:"number",value:(d==null?void 0:d.cards)??0}),e.jsxs("button",{className:u("p-2 text-xs font-medium text-center text-white bg-blue-700 hover:bg-blue-800 focus:outline-none rounded-lg inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700",n?"cursor-not-allowed bg-blue-400 dark:bg-blue-500 hover:bg-blue-400 hover:dark:bg-blue-500":""),disabled:n,onClick:()=>c(r,s.id),type:"button",children:[e.jsx(b,{Icon:I,size:15,variant:"Linear"}),e.jsx("span",{className:"sr-only",children:"Remove"})]})]})]})]})},B=a=>{const{cardsNeeded:s,coinsNeeded:r,maxLevelAvailable:t}=a,{t:l}=h();return e.jsxs("div",{className:"flex flex-row gap-2 divide-x justify-between divide-gray-200 dark:divide-gray-700",children:[e.jsx("div",{className:"flex w-1/3 justify-center",children:e.jsx(y,{className:"text-center",term:l("maxLevelAvailable"),children:t})}),e.jsx("div",{className:"flex w-1/3 justify-center pl-2",children:e.jsx(y,{className:"text-center",term:l("cardsNeeded"),children:v(s)})}),e.jsx("div",{className:"flex w-1/3 justify-center pl-2",children:e.jsx(y,{className:"text-center",term:l("coinsNeeded"),children:v(r)})})]})},G=a=>{const{onChangeSearch:s}=a,{t:r}=h(["common"]);return e.jsxs("div",{className:"w-full max-w-sm max-sm:max-w-full",children:[e.jsx("label",{className:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white",htmlFor:"search",children:r("search")}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(b,{Icon:S,className:"text-black dark:text-white"})}),e.jsx("input",{className:"block w-full p-3 pl-11 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white",id:"search",onChange:t=>s(t.target.value),placeholder:r("search"),type:"search"})]})]})},J=a=>{const{children:s}=a;return e.jsx("div",{className:"grid max-sm:grid-cols-1 max-lg:grid-cols-2 max-2xl:grid-cols-3 grid-cols-4 gap-5",children:s})},P=(a,s)=>{const[r,t]=N.useState((s==null?void 0:s.initialSearch)??""),l=new L(a,{keys:["name"],shouldSort:!1,threshold:.4,...s==null?void 0:s.fuseConfig});return{filteredAssets:r.trim()?l.search(r).map(i=>i.item):a,search:r,setSearch:t}},Q=a=>{const{assets:s,assetKey:r,title:t}=a,{t:l}=h(),{filteredAssets:c,setSearch:i,search:o}=P(s);return e.jsxs(U,{maxWidth:"2xl",children:[e.jsxs(K,{children:[e.jsx(_,{className:"m-0",children:t}),e.jsx(G,{onChangeSearch:i})]}),c.length===0?e.jsx(D,{severity:"info",children:l("noResultsFor",{search:o})}):e.jsx(J,{children:c.map(x=>e.jsx(H,{asset:x,assetKey:r},x.id))})]})};export{Q as A};
//# sourceMappingURL=AssetListPage-1fe68fcf.js.map
